import{r as J,a as V,i as H,g as Q,b as C,T as U,j as D}from"./index-hTRZJkIP.js";var K={},q={},E={exports:{}},B;function W(){return B||(B=1,function(r){function s(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}r.exports=s,r.exports.__esModule=!0,r.exports.default=r.exports}(E)),E.exports}var I={exports:{}},M;function X(){return M||(M=1,function(r){var s=J();function c(o,l){for(var d=0;d<l.length;d++){var i=l[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,s(i.key),i)}}function h(o,l,d){return l&&c(o.prototype,l),d&&c(o,d),Object.defineProperty(o,"prototype",{writable:!1}),o}r.exports=h,r.exports.__esModule=!0,r.exports.default=r.exports}(I)),I.exports}var w={},$;function Y(){return $||($=1,Object.defineProperty(w,"__esModule",{value:!0}),w.Status=void 0,w.Status=function(r){return r[r.unload=0]="unload",r[r.loading=1]="loading",r[r.loaded=2]="loaded",r}({})),w}var A;function ee(){return A||(A=1,function(r){var s=H;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=s(W()),h=s(X()),o=s(V()),l=Y();function d(n,a){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);a&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(n,f).enumerable})),e.push.apply(e,t)}return e}function i(n){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?d(Object(e),!0).forEach(function(t){(0,o.default)(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var u={hideBeforeLoaded:!0,onUpdate:function(a){}};r.default=function(){function n(){(0,c.default)(this,n),(0,o.default)(this,"index",void 0),(0,o.default)(this,"result",void 0),this.index=0,this.result=[]}return(0,h.default)(n,[{key:"load",value:function(e){var t=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u;if(!e)return new Promise(function(v){v({total:0,loaded:0})});var p=i(i({},u),f),y=p.onUpdate,m=p.hideBeforeLoaded,L=this.getStyle(e,"display")==="flex"?"flex":"block";m&&(e.style.display="none");var N=Array.from(e.querySelectorAll("*")),G=[e].concat(N);G.forEach(function(v,g){var j=v.tagName,x=v.getAttribute("src"),P=t.getStyle(v,"background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),S=t.getStyle(v,"-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),b=l.Status.unload;return j==="IMG"&&x?(t.result.push({url:x,index:g,status:b}),!0):j==="DIV"&&P!=="none"?(t.result.push({url:P,index:g,status:b}),!0):(j==="DIV"&&S!=="none"&&t.result.push({url:S,index:g,status:b}),!1)});var Z=function v(g){var j=g.resolve,x=j===void 0?function(O){return console.log(O)}:j,P=g.reject,S=P===void 0?function(O){return console.log(O)}:P;if(t.result.length===0){m&&(e.style.display=L),x({total:0,loaded:0});return}var b=t.result[t.index],_=t.result.length,k=b.url,R=b.index;b.status=l.Status.loading;var T=new Image;T.onload=function(){b.status=l.Status.loaded;var O=t.result.filter(function(z){return z.status===l.Status.loaded}).length;_===O?(m&&(e.style.display=L),requestAnimationFrame(function(){return x({url:k,total:_,loaded:O,index:R})})):(y({url:k,total:_,loaded:O,index:R}),t.index++,v({resolve:x,reject:S}))},T.src=k};return new Promise(function(v,g){Z({resolve:v,reject:g})})}},{key:"getStyle",value:function(e,t){var f,p=e.ownerDocument.defaultView;return p&&p.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),p.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(y,m){return m.toUpperCase()}),f=e.currentStyle[t],f):""}}]),n}()}(q)),q}(function(r){var s=H;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var c=s(V()),h=s(ee()),o=C;function l(u,n){var a=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(u,t).enumerable})),a.push.apply(a,e)}return a}function d(u){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?l(Object(a),!0).forEach(function(e){(0,c.default)(u,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(a,e))})}return u}var i=function(n){var a=n.children,e=n.hideBeforeLoaded,t=n.onStep,f=n.onload,p=(0,o.useRef)();return(0,o.useEffect)(function(){p.current&&new h.default().load(p.current,{hideBeforeLoaded:e,onUpdate:function(m){return t==null?void 0:t(m)}}).then(function(y){f==null||f(y)})},[]),o.Children.map(a,function(y){return(0,o.cloneElement)(y,d(d({},y.props),{},{ref:p}))})};i.defaultProps={hideBeforeLoaded:!0,onStep:function(){},onload:function(){}},r.default=i})(K);const te=Q(K),F={step:0},re=C.createContext([F,()=>{}]),ae=C.memo(()=>{const[r,s]=C.useState(F),[,c]=C.useState(U.Unset);return D.jsx(te,{onload:()=>c(U.FadeIn),children:D.jsx("div",{className:"Home",children:D.jsx(re.Provider,{value:[r,s]})})})});export{ae as default};
